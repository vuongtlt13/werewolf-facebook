{"version":3,"sources":["../registerAction.js"],"names":["registerAction","bot","on","payload","chat","sender","id","isExist","console","log","name","say","player","addPlayer","getPlayers","text","message"],"mappings":";;;;;QAIgBA,c,GAAAA,c;;AAJhB;;AACA;;AACA;;;;;;;;AAEO,SAASA,cAAT,CAAwBC,GAAxB,EAA6B;AAAA;;AAChCA,QAAIC,EAAJ,CAAO,SAAP;AAAA,2EAAkB,iBAAOC,OAAP,EAAgBC,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AACVC,kCADU,GACDF,QAAQE,MAAR,CAAeC,EADd;;AAAA,gCAET,mBAAcC,OAAd,CAAsBF,MAAtB,CAFS;AAAA;AAAA;AAAA;;AAGVG,oCAAQC,GAAR,CAAYJ,MAAZ,EAAoB,kBAApB;AAHU;AAAA,mCAIO,oBAAQD,IAAR,CAJP;;AAAA;AAINM,gCAJM;;AAKV;AACAN,iCAAKO,GAAL,CAAS,6CAAT;AACIC,kCAPM,GAOG,qBAAWP,MAAX,EAAmBK,IAAnB,CAPH;AAQV;;AACA,+CAAcG,SAAd,CAAwBD,MAAxB;AACAJ,oCAAQC,GAAR,CAAY,mBAAcK,UAAd,EAAZ;AAVU;AAAA;;AAAA;AAYJC,gCAZI,GAYGZ,QAAQa,OAAR,CAAgBD,IAZnB;;AAaVX,iCAAKO,GAAL,CAASI,IAAT;;AAbU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAlB;;AAAA;AAAA;AAAA;AAAA;AAgBH","file":"registerAction.js","sourcesContent":["import {playerManager} from './app';\nimport {askName} from './event';\nimport Player from './Player';\n\nexport function registerAction(bot) {\n    bot.on('message', async (payload, chat) => {\n        let sender = payload.sender.id;\n        if (!playerManager.isExist(sender)) {\n            console.log(sender, 'is a new player!');\n            let name = await askName(chat);\n            // console.log(sender, name);\n            chat.say(\"Wait for instructions from the game manager\");\n            let player = new Player(sender, name);\n            // console.log(player);\n            playerManager.addPlayer(player);\n            console.log(playerManager.getPlayers());\n        } else {\n            const text = payload.message.text;\n            chat.say(text);\n        }\n    });\n}"]}